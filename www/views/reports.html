<ion-view title="{{'title_reports' | translate}}">
  <ion-content padding="true" >
    <form>
      <div class="item item-divider">
        <span>Sync</span>
      </div>

      <div class="item item-icon-left" ng-click="sync()">
        <i class="icon ion-android-sync" ng-show="!isLoading" ng-click="sync()"></i>
        <ion-spinner class="icon" icon="spiral" ng-show="isLoading"></ion-spinner>
        <span ng-if="configService.getConfig().syncLastSuccess">Last Sync</span>
        <span ng-if="configService.getConfig().syncLastSuccess" am-time-ago="configService.getConfig().syncLastSuccess"></span>
        <span ng-if="!configService.getConfig().syncLastSuccess">Click here to sync!</span>
      </div>
      <div class="item item-icon-left" ng-if="pendingReportsCount>0" ng-click="sync()">
        <i class="icon ion-clipboard"></i>
        <span>Reports Are Pending!</span>
        <span class="badge badge-assertive">{{pendingReportsCount}}</span>
      </div>

    </form>

    <div class="spacer" style="width: 300px; height: 40px;"></div>

    <form>
      <ion-list>
        <div class="item item-divider">
          Create Report
        </div>
        <a class="item item-icon-right" ng-repeat="(key, value) in formService.getForms()" href="#/vida/report-create/report-detail/{{key}}">
          {{value.schema.title}}
          <i class="icon ion-chevron-right icon-accessory"></i>
        </a>
      </ion-list>
    </form>
  </ion-content>
</ion-view>
